Search.setIndex({"docnames": ["build", "configuration", "index", "introduction", "qa", "test", "usage"], "filenames": ["build.rst", "configuration.rst", "index.rst", "introduction.rst", "qa.rst", "test.rst", "usage.rst"], "titles": ["Build", "Configuration", "Welcome to TSN-Testbench\u2019s documentation!", "Introduction", "Quality Assurance", "Test runs", "Usage"], "terms": {"The": [0, 1, 3, 4, 5, 6], "buildsystem": 0, "i": [0, 1, 3, 4, 5, 6], "cmake": 0, "applic": [0, 1, 3, 5, 6], "can": [0, 1, 3, 4, 5], "instal": 0, "mkdir": 0, "build_x86": [0, 5], "cd": [0, 5], "dcmake_build_typ": 0, "releas": 0, "make": [0, 1, 6], "j": 0, "nproc": 0, "sudo": 0, "set": [0, 1, 5, 6], "type": [0, 3], "import": 0, "defin": [0, 1, 3, 5], "us": [0, 1, 3, 4, 6], "compil": 0, "flag": 0, "optim": 0, "without": [0, 5], "debug": [0, 1], "symbol": 0, "other": [0, 1, 3, 5], "includ": [0, 1, 3], "relwithdebinfo": 0, "have": [0, 1, 3, 4, 5, 6], "follow": [0, 5, 6], "depend": [0, 1], "run": [0, 2, 3, 6], "time": [0, 1, 3, 6], "libbpf": 0, "libyaml": 0, "libxdp": [0, 6], "libssl": 0, "gcc": 0, "clang": [0, 4], "llvm": [0, 4], "pkg": 0, "config": [0, 6], "util": [0, 1, 3, 5], "linuxptp": 0, "ethtool": [0, 1], "iproute2": [0, 1], "rt": [0, 1, 3], "test": [0, 1, 2, 3, 6], "iperf3": 0, "For": [0, 1, 3, 5, 6], "debian": 0, "base": [0, 1, 3, 5], "system": [0, 3, 5, 6], "do": [0, 1, 3, 5], "apt": 0, "updat": [0, 1], "y": 0, "essenti": 0, "dev": [0, 4], "libc6": 0, "bullsey": 0, "packag": [0, 1], "backport": 0, "furthermor": [0, 1, 3, 5, 6], "tsn": [0, 1, 3, 4, 6], "testbench": [0, 1, 3, 4, 5, 6], "requir": [0, 1, 5, 6], "linux": [0, 1, 3, 4, 5, 6], "kernel": [0, 1, 3, 4, 5], "version": [0, 1, 3, 6], "v5": 0, "12": [0, 4], "preempt_rt": [0, 1, 3, 5], "recommend": [0, 5], "In": [0, 1, 5, 6], "addit": [0, 1, 5, 6], "configur": [0, 2, 3, 5, 6], "option": [0, 1, 4, 6], "config_ptp_1588_clock": 0, "config_bpf": 0, "config_bpf_syscal": 0, "config_debug_info": 0, "config_debug_info_btf": 0, "config_xdp_socket": 0, "config_net_sch_mqprio": 0, "config_net_sch_taprio": 0, "config_net_sch_etf": 0, "config_net_sch_ingress": 0, "config_net_cls_": 0, "itself": [1, 3], "ar": [1, 3, 4, 5, 6], "all": [1, 3, 4, 5, 6], "paramet": [1, 5], "how": [1, 3, 5], "mani": 1, "frame": [1, 3, 5], "transmit": [1, 5], "per": 1, "cycl": [1, 3, 5], "which": [1, 3, 5, 6], "class": [1, 3, 5], "activ": 1, "period": [1, 5], "clock": [1, 5], "yaml": [1, 3, 5, 6], "file": [1, 3, 4, 5, 6], "pars": 1, "startup": 1, "valid": [1, 3, 4, 5], "creat": [1, 5, 6], "befor": [1, 5], "start": [1, 3, 5], "simul": [1, 3, 5], "possibl": [1, 3, 5], "applicationclockid": 1, "string": 1, "clock_tai": 1, "clock_monoton": 1, "applicationbasestarttimen": 1, "integ": 1, "absolut": 1, "noth": 1, "default": 1, "valu": 1, "now": [1, 3], "30": 1, "applicationbasecycletimen": 1, "applicationtxbaseoffsetn": 1, "execut": [1, 2], "offset": [1, 5], "tx": [1, 5], "thread": [1, 5], "within": [1, 5], "applicationrxbaseoffsetn": 1, "rx": [1, 5], "applicationxdpprogram": 1, "specif": 1, "xdp": [1, 3, 6], "program": [1, 3, 6], "txenabl": 1, "boolean": 1, "enabl": [1, 5], "rxenabl": 1, "xdpenabl": 1, "instead": [1, 5, 6], "raw": [1, 3, 6], "socket": [1, 3, 6], "xdpskbmode": 1, "skb": 1, "mode": [1, 3], "code": [1, 2, 3], "driver": [1, 3], "implement": [1, 3], "xdpzcmode": 1, "zero": 1, "copi": 1, "xdpwakeupmod": 1, "wakeup": 1, "xdpbusypollmod": 1, "drive": 1, "busi": [1, 5], "poll": [1, 5], "txtimeen": 1, "launch": 1, "etf": 1, "qdisc": 1, "compat": 1, "txtimeoffsetn": 1, "rel": 1, "qbv": [1, 5], "schedul": [1, 5, 6], "ignorerxerror": 1, "By": 1, "perform": [1, 3, 5, 6], "consist": [1, 3], "check": [1, 2, 3, 5], "receiv": [1, 3, 5], "thi": [1, 3, 4, 5, 6], "disabl": [1, 5], "onli": [1, 3, 5], "e": 1, "g": 1, "overload": 1, "scenario": [1, 2], "vid": [1, 5], "vlan": 1, "id": [1, 4], "gener": [1, 3], "numframespercycl": 1, "number": 1, "payloadpattern": 1, "payload": [1, 3], "pattern": 1, "content": 1, "sequenc": 1, "byte": [1, 5], "If": 1, "smaller": 1, "than": 1, "size": [1, 5], "pad": 1, "ad": 1, "framelength": 1, "length": 1, "exclud": [1, 4], "four": 1, "fc": 1, "securitymod": 1, "One": 1, "none": [1, 5], "ao": 1, "authent": [1, 5], "ae": 1, "encrypt": [1, 5], "securityalgorithm": 1, "aes256": 1, "gcm": 1, "aes128": 1, "chacha20": 1, "poly1305": 1, "securitykei": 1, "kei": 1, "crypto": 1, "function": [1, 3], "either": [1, 3], "16": 1, "32": [1, 5], "select": 1, "algorithm": [1, 3], "securityivprefix": 1, "prefix": 1, "iv": 1, "6": [1, 5], "rxqueue": 1, "queue": [1, 5], "txqueue": 1, "socketprior": 1, "prioriti": [1, 5, 6], "txthreadprior": 1, "sched_fifo": 1, "rxthreadprior": 1, "txthreadcpu": 1, "cpu": [1, 5], "affin": 1, "rxthreadcpu": 1, "destin": 1, "mac": 1, "address": 1, "logthreadperiodn": 1, "log": [1, 5, 6], "interv": [1, 5], "logthreadprior": 1, "logthreadcpu": 1, "logfil": 1, "path": [1, 6], "loglevel": 1, "level": 1, "one": [1, 3, 5], "info": 1, "warn": 1, "error": [1, 4, 5], "debugstoptraceonrtt": 1, "stop": 1, "trace": 1, "round": [1, 5], "trip": [1, 5], "exce": [1, 5], "debugstoptracerttlimitn": 1, "debugstoptraceonerror": 1, "happen": 1, "transmiss": [1, 3, 5], "failur": 1, "limit": [1, 5], "nanosecond": 1, "debugmonitormod": 1, "monitor": [1, 5], "fraunhof": [1, 5], "fpga": 1, "measur": 1, "debugmonitordestin": 1, "first": [1, 5], "burst": [1, 5], "tsnhigh": [1, 5], "stream": [1, 5], "high": [1, 5], "tsnlow": [1, 5], "low": [1, 5], "rtc": [1, 5], "real": [1, 3, 5, 6], "cyclic": [1, 3, 5], "rta": [1, 5], "acycl": [1, 5], "dcp": [1, 5], "discoveri": 1, "basic": 1, "protocol": [1, 3, 5], "lldp": [1, 5], "link": [1, 5], "layer": [1, 3], "udphigh": 1, "connect": [1, 5], "best": [1, 5], "effort": [1, 5], "udplow": 1, "genericl2": 1, "ani": [1, 3, 5], "kind": [1, 3], "opc": [1, 3, 5], "ua": [1, 3, 5], "Not": [1, 5], "avail": 1, "instanc": [1, 3], "when": [1, 5], "af_xdp": [1, 3], "af_packet": [1, 3], "ethernet": [1, 3, 5], "commun": [1, 3, 5], "profinet": [1, 3, 6], "rather": [1, 6], "purpos": [1, 3], "2": [1, 3, 4, 5], "pubsub": [1, 3, 5], "ethertyp": 1, "v6": [1, 5], "5": [1, 4, 5], "previou": 1, "support": [1, 3, 5], "featur": [1, 5], "secur": [1, 3], "demonstr": [1, 5], "exemplari": 1, "still": [1, 5], "under": [1, 3, 5], "develop": [1, 3], "what": 1, "impact": 1, "doe": 1, "decrypt": 1, "ha": [1, 3, 5, 6], "quantiti": 1, "structur": 1, "mechan": [1, 3, 5], "cover": 1, "sampl": [1, 3, 6], "provid": [1, 3, 4, 6], "intel": [1, 5], "elkhart": [1, 5], "lake": [1, 5], "i225": [1, 5], "reference_vid100_ehl": [1, 5], "refer": [1, 3, 5, 6], "100": [1, 5], "reference_vid100_cml": [1, 5], "mirror_vid100_ehl": [1, 5], "mirror": [1, 3, 5, 6], "mirror_vid100_cml": [1, 5], "These": [1, 5], "point": 1, "At": [1, 5], "minimum": [1, 5], "ip": 1, "well": [1, 3, 5], "name": [1, 5], "adjust": 1, "crucial": 1, "differ": [1, 3, 5], "nic": [1, 5], "capabl": [1, 6], "rout": 1, "specifi": [1, 5], "It": [1, 3, 5], "also": [1, 5], "tag": 1, "untag": 1, "tc": [1, 5], "from": [1, 3, 4, 5, 6], "That": 1, "two": [1, 3, 5], "script": [1, 4, 5], "flow_ehl": [1, 5], "sh": [1, 5], "flow_cml": [1, 5], "multipl": [1, 5], "assign": 1, "irq": 1, "coalesc": 1, "napi": 1, "work": [1, 5], "properli": 1, "introduct": 2, "motiv": 2, "architectur": 2, "build": 2, "usag": [2, 5], "command": 2, "line": [2, 4], "non": [2, 3, 5], "root": 2, "user": 2, "traffic": [2, 3, 5], "network": [2, 3, 5], "interfac": [2, 3, 5], "interpret": 2, "result": 2, "predefin": 2, "hardwar": [2, 3], "switch": 2, "qualiti": 2, "assur": 2, "licens": [2, 3], "style": [2, 3], "tool": [3, 4], "converg": 3, "evalu": 3, "primarili": 3, "plc": 3, "latenc": [3, 5], "split": 3, "concept": 3, "shown": [3, 5], "below": [3, 5], "recept": [3, 5], "standard": 3, "bpf": [3, 6], "filter": 3, "promiscu": 3, "send": 3, "packet": [3, 6], "via": [3, 5, 6], "call": 3, "been": [3, 5], "extend": 3, "altern": 3, "order": [3, 5, 6], "speed": [3, 5], "up": 3, "improv": 3, "determinist": [3, 5], "behavior": [3, 5], "both": 3, "folder": 3, "c": [3, 4, 5, 6], "bsd": [3, 4], "claus": [3, 4], "phoenix": 3, "contact": 3, "correspond": 3, "microsoft": [3, 4], "histori": 3, "v1": 3, "0": [3, 4, 5], "februari": 3, "2021": 3, "v2": 3, "2022": [3, 4], "v3": 3, "august": 3, "multi": 3, "middlewar": 3, "v4": 3, "juli": 3, "2023": 3, "over": 3, "last": 3, "year": 3, "open": 3, "sourc": [3, 4], "ecosystem": 3, "introduc": [3, 5], "synchron": [3, 5], "ptp": [3, 5], "802": [3, 5], "1a": [3, 5], "variou": 3, "shaper": 3, "ieee": 3, "patch": 3, "turn": 3, "oper": 3, "world": 3, "case": [3, 5], "top": 3, "jitter": [3, 5], "throughput": 3, "achiev": 3, "To": 3, "answer": 3, "question": 3, "manufactur": 3, "": [3, 5, 6], "underli": 3, "stack": 3, "therebi": 3, "pleas": 3, "note": 3, "conform": 3, "intend": 3, "independ": [3, 5], "mainlin": 3, "data": 3, "control": 3, "plane": 3, "while": 3, "later": 3, "abl": [3, 5], "wai": [3, 5], "next": 3, "overal": 3, "idea": 3, "There": [3, 5], "rang": [3, 5], "udp": [3, 5], "transmitt": 3, "tradit": 3, "modern": 3, "flow": 3, "ebpf": 3, "profil": 3, "imag": [3, 5], "show": [3, 5], "an": [3, 5], "exampl": [3, 4, 5, 6], "three": [3, 5], "combin": 3, "permiss": [4, 6], "spdx": 4, "identifi": 4, "see": [4, 6], "http": 4, "inform": [4, 5], "automat": 4, "spdxcheck": 4, "project": 4, "git": 4, "py": 4, "v": [4, 6], "except": 4, "102": 4, "358": 4, "94": 4, "92": 4, "directori": [4, 6], "account": 4, "complet": 4, "7": [4, 5], "58": 4, "No": [4, 5], "should": [4, 5], "print": [4, 5, 6], "rule": 4, "describ": [4, 6], "here": 4, "learn": 4, "com": 4, "en": 4, "u": [4, 5], "dotnet": 4, "fundament": 4, "analysi": 4, "view": 4, "enforc": 4, "format": 4, "org": 4, "doc": 4, "clangformat": 4, "html": 4, "src": 4, "h": [4, 6], "correct": 4, "place": 4, "deadlin": 5, "model": 5, "therefor": 5, "constantli": 5, "each": 5, "averag": 5, "maximum": 5, "calcul": 5, "timestamp": 5, "taken": 5, "directli": 5, "collect": 5, "regularli": 5, "worst": 5, "predict": 5, "involv": 5, "machin": 5, "theori": 5, "given": 5, "thu": 5, "good": 5, "indic": 5, "whether": 5, "thei": 5, "need": [5, 6], "100mbit": 5, "1gbit": 5, "even": 5, "higher": 5, "comet": 5, "host1": 5, "host2": 5, "integr": 5, "equip": 5, "1m": 5, "600u": 5, "800u": 5, "64": 5, "128": 5, "1": 5, "everi": 5, "mtu": 5, "50": 5, "expect": 5, "issu": 5, "x": 5, "lost": 5, "damag": 5, "strict": 5, "end": 5, "analyz": 5, "determin": 5, "met": 5, "var": [5, 6], "reference_vid100": 5, "mirror_vid100": 5, "summari": 5, "tsnhighsent": 5, "973914432": 5, "tsnhighreceiv": 5, "973914304": 5, "tsnhighrttmin": 5, "1786": 5, "tsnhighrttmax": 5, "1814": 5, "tsnhighrttavg": 5, "1800": 5, "735701": 5, "tsnlowsent": 5, "tsnlowreceiv": 5, "tsnlowrttmin": 5, "1773": 5, "tsnlowrttmax": 5, "1805": 5, "tsnlowrttavg": 5, "1790": 5, "233841": 5, "rtcsent": 5, "1947828864": 5, "rtcreceiv": 5, "1947828608": 5, "rtcrttmin": 5, "1753": 5, "rtcrttmax": 5, "1797": 5, "rtcrttavg": 5, "1780": 5, "022262": 5, "rtasent": 5, "76087": 5, "rtareceiv": 5, "rtarttmin": 5, "979": 5, "rtarttmax": 5, "1176": 5, "rtarttavg": 5, "1011": 5, "953501": 5, "dcpsent": 5, "7608": 5, "dcpreceiv": 5, "dcprttmin": 5, "980": 5, "dcprttmax": 5, "1207": 5, "dcprttavg": 5, "1097": 5, "250657": 5, "lldpsent": 5, "3043": 5, "lldpreceiv": 5, "lldprttmin": 5, "990": 5, "lldprttmax": 5, "1196": 5, "lldprttavg": 5, "1165": 5, "554058": 5, "udphighs": 5, "udphighreceiv": 5, "udphighrttmin": 5, "1005": 5, "udphighrttmax": 5, "1090": 5, "udphighrttavg": 5, "1035": 5, "880053": 5, "udplows": 5, "udplowreceiv": 5, "udplowrttmin": 5, "984": 5, "udplowrttmax": 5, "1075": 5, "udplowrttavg": 5, "1020": 5, "958593": 5, "As": 5, "observ": 5, "2m": 5, "particular": 5, "pre": 5, "8m": 5, "wa": 5, "4": 5, "hour": 5, "total": 5, "billion": 5, "singl": 5, "miss": 5, "its": 5, "wire": 5, "special": 5, "profishark": 5, "1g": 5, "tap": 5, "awar": 5, "same": 5, "pcp": 5, "200": 5, "300": 5, "avtp": 5, "3": 5, "400": 5, "second": 5, "8": 5, "rest": 5, "locat": [5, 6], "multi_middlwar": 5, "stmmac": 5, "coordin": 5, "event": 5, "across": 5, "compon": 5, "local": 5, "some": 5, "card": 5, "increas": 5, "phc2sy": 5, "especi": 5, "heavi": 5, "pcie": 5, "load": 5, "ptm": 5, "significantli": 5, "design": 5, "slot": 5, "125": 5, "250": 5, "500": 5, "i226": 5, "eight": 5, "remain": 5, "800": 5, "1400": 5, "profinet_zc": 5, "profinet_auth": 5, "profinet_crypt": 5, "profinet_rt": 5, "guarante": 5, "resourc": 5, "bridg": 5, "station": 5, "bound": 5, "deliveri": 5, "protect": 5, "plan": 5, "lead": 5, "disturb": 5, "ingress": 5, "rate": 5, "bandwidth": 5, "unicast": 5, "multicast": 5, "broadcast": 5, "tradition": 5, "howev": 5, "interest": 5, "becaus": 5, "memori": [5, 6], "individu": 5, "malfunct": 5, "misconfigur": 5, "contrast": 5, "ignor": 5, "drop": 5, "prefer": 5, "interrupt": 5, "driven": 5, "reduc": 5, "softwar": 5, "successfulli": 5, "platform": 5, "apollo": 5, "i210": 5, "reli": 5, "between": 5, "node": 5, "leverag": 5, "consequ": 5, "lldpnumframespercycl": 5, "own": 5, "craft": 5, "messag": 5, "term": 5, "1ab": 5, "confus": 5, "whole": 5, "argument": 6, "simpl": 6, "extern": 6, "detail": 6, "explan": 6, "section": 6, "host": 6, "help": 6, "text": 6, "lock": 6, "regular": 6, "cap_ipc_lock": 6, "cap_sys_nic": 6, "allow": 6, "cap_bpf": 6, "attach": 6, "cap_net_admin": 6, "cap_net_raw": 6, "cap_sys_admin": 6, "dispatch": 6, "setcap": 6, "ep": 6, "getcap": 6, "store": 6, "sure": 6, "anoth": 6, "access": 6, "sy": 6, "f": 6, "accord": 5, "abov": 5}, "objects": {}, "objtypes": {}, "objnames": {}, "titleterms": {"build": 0, "configur": 1, "traffic": 1, "network": 1, "interfac": 1, "welcom": 2, "tsn": [2, 5], "testbench": 2, "": 2, "document": 2, "introduct": 3, "motiv": 3, "architectur": 3, "qualiti": 4, "assur": 4, "licens": 4, "check": 4, "code": 4, "style": 4, "test": 5, "run": 5, "execut": 5, "interpret": 5, "result": 5, "predefin": 5, "scenario": 5, "multi": 5, "middlewar": 5, "basic": 5, "us": 5, "af_xdp": 5, "socket": 5, "af_packet": 5, "precis": 5, "time": 5, "measur": 5, "influenc": 5, "profinet": 5, "over": 5, "rt": 5, "netload": 5, "busypol": 5, "hardwar": 5, "switch": 5, "usag": 6, "command": 6, "line": 6, "non": 6, "root": 6, "user": 6}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 8, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx": 57}, "alltitles": {"Build": [[0, "build"]], "Configuration": [[1, "configuration"]], "Traffic configuration": [[1, "traffic-configuration"]], "Network interface configuration": [[1, "network-interface-configuration"]], "Welcome to TSN-Testbench\u2019s documentation!": [[2, "welcome-to-tsn-testbench-s-documentation"]], "Introduction": [[3, "introduction"]], "Motivation": [[3, "motivation"]], "Architecture": [[3, "architecture"]], "Quality Assurance": [[4, "quality-assurance"]], "License Checks": [[4, "license-checks"]], "Coding Style Check": [[4, "coding-style-check"]], "Usage": [[6, "usage"]], "Command Line Usage": [[6, "command-line-usage"]], "Non-root User": [[6, "non-root-user"]], "Test runs": [[5, "test-runs"]], "Execution of test runs": [[5, "execution-of-test-runs"]], "Interpretation of results": [[5, "interpretation-of-results"]], "Predefined Test Scenarios": [[5, "predefined-test-scenarios"]], "Multi Middleware": [[5, "multi-middleware"]], "Basic Multi Middleware Test using AF_XDP sockets": [[5, "id1"]], "Basic Multi Middleware Test using AF_PACKET sockets": [[5, "id2"]], "Precision Time Measurement": [[5, "precision-time-measurement"]], "Precision Time Measurement influence Test": [[5, "id3"]], "PROFINET TSN": [[5, "profinet-tsn"]], "PROFINET over TSN Test": [[5, "id4"]], "PROFINET RT": [[5, "profinet-rt"], [5, "id5"]], "Netload": [[5, "netload"]], "Netload Test": [[5, "id6"]], "Busypolling": [[5, "busypolling"]], "Busypolling Test": [[5, "id7"]], "Tested Hardware": [[5, "tested-hardware"]], "Switches": [[5, "switches"]]}, "indexentries": {}})